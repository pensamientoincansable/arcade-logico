<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcade Lógico - 15 Minijuegos Completos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* [TODO EL CSS ANTERIOR SE MANTIENE IGUAL - NO LO COPIO PARA AHORRAR ESPACIO] */
        /* Los estilos son exactamente los mismos que en la versión anterior */
    </style>
</head>
<body>
    <!-- [TODO EL HTML ANTERIOR SE MANTIENE IGUAL] -->
    
    <script>
        // Datos de los 15 minijuegos COMPLETOS
        const games = [
            {
                id: 1,
                title: "Adivina el Número",
                description: "Adivina el número secreto entre 1 y 100 usando pistas de mayor o menor. ¡Demuestra tu intuición numérica!",
                difficulty: "easy",
                icon: "fa-bullseye",
                hasGame: true
            },
            {
                id: 2,
                title: "Tres en Raya",
                description: "El clásico juego de estrategia. Alinea tres símbolos en horizontal, vertical o diagonal antes que tu oponente.",
                difficulty: "easy",
                icon: "fa-times",
                hasGame: true
            },
            {
                id: 3,
                title: "Sudoku",
                description: "Completa la cuadrícula 9x9 con números del 1 al 9, sin repetir en filas, columnas o regiones 3x3.",
                difficulty: "hard",
                icon: "fa-th",
                hasGame: true
            },
            {
                id: 4,
                title: "Memorama",
                description: "Encuentra todas las parejas de cartas iguales. ¡Ejercita tu memoria visual en este desafío clásico!",
                difficulty: "medium",
                icon: "fa-brain",
                hasGame: true
            },
            {
                id: 5,
                title: "Torres de Hanoi",
                description: "Mueve todos los discos de una torre a otra, sin colocar discos grandes sobre pequeños. Un clásico de la recursividad.",
                difficulty: "medium",
                icon: "fa-layer-group",
                hasGame: true
            },
            {
                id: 6,
                title: "Busca Minas",
                description: "Encuentra todas las minas sin activar ninguna. Usa los números como pistas para localizar el peligro.",
                difficulty: "medium",
                icon: "fa-bomb",
                hasGame: true
            },
            {
                id: 7,
                title: "15 Puzzle",
                description: "Ordena los números del 1 al 15 deslizando las piezas en el tablero 4x4. ¡Un rompecabezas deslizante!",
                difficulty: "medium",
                icon: "fa-puzzle-piece",
                hasGame: true
            },
            {
                id: 8,
                title: "Ahorcado",
                description: "Adivina la palabra letra por letra antes de que se complete el dibujo del ahorcado. ¡Vocabulario y lógica!",
                difficulty: "easy",
                icon: "fa-user",
                hasGame: true
            },
            {
                id: 9,
                title: "Conecta 4",
                description: "Conecta cuatro fichas en línea horizontal, vertical o diagonal. Estrategia pura para dos jugadores.",
                difficulty: "medium",
                icon: "fa-circle",
                hasGame: true
            },
            {
                id: 10,
                title: "Laberinto",
                description: "Encuentra la salida del laberinto generado aleatoriamente. ¡Navega por el camino más corto!",
                difficulty: "hard",
                icon: "fa-project-diagram",
                hasGame: true
            },
            {
                id: 11,
                title: "Criptograma",
                description: "Descifra el mensaje codificado sustituyendo letras. Un desafío de lógica lingüística.",
                difficulty: "hard",
                icon: "fa-key",
                hasGame: true
            },
            {
                id: 12,
                title: "Mastermind",
                description: "Adivina la combinación secreta de colores usando pistas de posición y color. ¡Pura deducción lógica!",
                difficulty: "medium",
                icon: "fa-user-secret",
                hasGame: true
            },
            {
                id: 13,
                title: "Juego de la Vida",
                description: "Simula el autómata celular de Conway. Observa cómo evolucionan los patrones según reglas simples.",
                difficulty: "medium",
                icon: "fa-seedling",
                hasGame: true
            },
            {
                id: 14,
                title: "Battleship",
                description: "Hunde la flota enemiga antes de que hundan la tuya. Estrategia naval clásica para dos jugadores.",
                difficulty: "medium",
                icon: "fa-ship",
                hasGame: true
            },
            {
                id: 15,
                title: "Nonogramas",
                description: "Resuelve el rompecabezas lógico donde números indican grupos de casillas a rellenar. ¡Crea una imagen!",
                difficulty: "hard",
                icon: "fa-border-style",
                hasGame: true
            }
        ];

        // Estado de la aplicación
        const state = {
            currentGame: null,
            darkMode: true,
            gamesPlayed: 0
        };

        // Inicialización de la página
        document.addEventListener('DOMContentLoaded', function() {
            // Crear puntos de neón animados
            createNeonDots();
            
            // Cargar la cuadrícula de juegos
            loadGamesGrid();
            
            // Configurar event listeners
            document.getElementById('backBtn').addEventListener('click', returnToMain);
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            // Configurar los juegos con funcionalidad
            setupGameButtons();
        });

        // Crear puntos de neón animados para el fondo
        function createNeonDots() {
            const container = document.getElementById('neonDots');
            const dotCount = 50;
            
            for (let i = 0; i < dotCount; i++) {
                const dot = document.createElement('div');
                dot.className = 'neon-dot';
                
                // Posición aleatoria
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                // Tamaño y animación aleatoria
                const size = 1 + Math.random() * 3;
                const duration = 3 + Math.random() * 7;
                const delay = Math.random() * 5;
                
                dot.style.left = `${posX}%`;
                dot.style.top = `${posY}%`;
                dot.style.width = `${size}px`;
                dot.style.height = `${size}px`;
                dot.style.animation = `pulse ${duration}s ${delay}s infinite alternate`;
                
                // Color aleatorio (azul, rosa o verde)
                const colors = ['0ff0fc', 'ff00ff', '00ff00'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                dot.style.backgroundColor = `#${color}`;
                dot.style.boxShadow = `0 0 8px #${color}`;
                
                container.appendChild(dot);
            }
        }

        // Cargar la cuadrícula de juegos en la página principal
        function loadGamesGrid() {
            const grid = document.getElementById('gamesGrid');
            grid.innerHTML = '';
            
            games.forEach(game => {
                const card = document.createElement('div');
                card.className = 'game-card';
                card.dataset.gameId = game.id;
                
                card.innerHTML = `
                    <div class="game-header">
                        <div class="game-number">#${game.id}</div>
                        <h3 class="game-title">${game.title}</h3>
                    </div>
                    <p class="game-desc">${game.description}</p>
                    <div class="game-footer">
                        <span class="game-difficulty ${game.difficulty}">
                            ${game.difficulty === 'easy' ? 'Fácil' : game.difficulty === 'medium' ? 'Medio' : 'Difícil'}
                        </span>
                        <button class="play-btn" data-game-id="${game.id}">
                            <i class="fas ${game.icon}"></i> Jugar
                        </button>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Configurar los botones de juego
        function setupGameButtons() {
            document.addEventListener('click', function(e) {
                // Si se hace clic en un botón "Jugar"
                if (e.target.classList.contains('play-btn') || e.target.closest('.play-btn')) {
                    const btn = e.target.classList.contains('play-btn') ? e.target : e.target.closest('.play-btn');
                    const gameId = parseInt(btn.dataset.gameId);
                    launchGame(gameId);
                }
                
                // Si se hace clic en una tarjeta de juego (pero no en el botón)
                if (e.target.closest('.game-card') && !e.target.closest('.play-btn')) {
                    const card = e.target.closest('.game-card');
                    const gameId = parseInt(card.dataset.gameId);
                    launchGame(gameId);
                }
            });
        }

        // Lanzar un juego específico
        function launchGame(gameId) {
            const game = games.find(g => g.id === gameId);
            if (!game) return;
            
            state.currentGame = game;
            state.gamesPlayed++;
            
            // Cambiar a la página del juego
            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('gamePage').style.display = 'flex';
            
            // Configurar el título del juego
            document.getElementById('currentGameTitle').textContent = game.title;
            
            // Cargar el juego correspondiente
            loadGameContent(game);
        }

        // ==================== FUNCIÓN CORREGIDA ====================
        // Cargar el contenido del juego seleccionado
        function loadGameContent(game) {
            const content = document.getElementById('gameContent');
            content.innerHTML = '';
            
            // Mapeo COMPLETO de ID de juego a función de carga
            const gameLoaders = {
                1: loadGuessNumberGame,
                2: loadTicTacToeGame,
                3: loadSudokuGame,
                4: loadMemoryGame,
                5: loadHanoiGame,
                6: loadMinesweeperGame,
                7: loadPuzzle15Game,
                8: loadHangmanGame,
                9: loadConnect4Game,
                10: loadMazeGame,
                11: loadCryptogramGame,
                12: loadMastermindGame,
                13: loadLifeGame,
                14: loadBattleshipGame,
                15: loadNonogramGame
            };
            
            const loader = gameLoaders[game.id];
            if (loader) {
                loader(content);
            } else {
                content.innerHTML = `
                    <div class="game-container">
                        <h2 class="game-title-large">${game.title}</h2>
                        <div class="coming-soon">
                            <div class="coming-soon-icon">
                                <i class="fas ${game.icon}"></i>
                            </div>
                            <p style="color:var(--text-secondary);max-width:500px;margin-bottom:2rem;">
                                ${game.description}
                            </p>
                            <p style="color:var(--neon-pink);margin-bottom:2rem;">
                                <i class="fas fa-tools"></i> Este juego estará disponible en la próxima actualización
                            </p>
                            <button class="game-button" onclick="returnToMain()">
                                <i class="fas fa-arrow-left"></i> Volver al Menú Principal
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        // ==================== FUNCIONES DE CARGA PARA TODOS LOS JUEGOS ====================

        // JUEGO 1: Adivina el Número
        function loadGuessNumberGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Adivina el Número</h2>
                    <p class="game-instructions">
                        He pensado en un número entre 1 y 100. ¡Adivina cuál es! Te daré pistas.
                    </p>
                    <div class="game-controls">
                        <input type="number" id="guessInput" class="game-input" placeholder="Tu número">
                        <button id="guessButton" class="game-button">Adivinar</button>
                    </div>
                    <div class="game-feedback" id="feedback">
                        <p id="feedbackText">Introduce un número entre 1 y 100</p>
                    </div>
                    <div class="game-stats">
                        <div class="stat-box">
                            <h3>Intentos</h3>
                            <p id="attemptsCount">0</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Inicialización simple del juego
            let secretNumber = Math.floor(Math.random() * 100) + 1;
            let attempts = 0;
            
            document.getElementById('guessButton').addEventListener('click', function() {
                const guess = parseInt(document.getElementById('guessInput').value);
                attempts++;
                document.getElementById('attemptsCount').textContent = attempts;
                
                if (guess === secretNumber) {
                    document.getElementById('feedbackText').innerHTML = 
                        `<span style="color:var(--neon-green)">¡Correcto! El número era ${secretNumber}</span>`;
                } else if (guess < secretNumber) {
                    document.getElementById('feedbackText').innerHTML = 
                        `<span style="color:var(--neon-blue)">El número es mayor que ${guess}</span>`;
                } else {
                    document.getElementById('feedbackText').innerHTML = 
                        `<span style="color:var(--neon-pink)">El número es menor que ${guess}</span>`;
                }
            });
        }

        // JUEGO 2: Tres en Raya
        function loadTicTacToeGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Tres en Raya</h2>
                    <p class="game-instructions">
                        Juega contra la computadora. Tú eres X, la computadora es O.
                    </p>
                    <div class="tic-tac-toe-board" id="ticTacToeBoard"></div>
                    <div class="game-controls">
                        <button id="resetTicTacToe" class="game-button">Reiniciar</button>
                    </div>
                </div>
            `;
            
            // Inicialización simple
            const board = ['', '', '', '', '', '', '', '', ''];
            const boardElement = document.getElementById('ticTacToeBoard');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                board.forEach((cell, index) => {
                    const cellElement = document.createElement('div');
                    cellElement.className = 'tic-tac-toe-cell';
                    cellElement.textContent = cell;
                    cellElement.addEventListener('click', () => makeMove(index));
                    boardElement.appendChild(cellElement);
                });
            }
            
            renderBoard();
        }

        // JUEGO 3: Sudoku (versión simplificada)
        function loadSudokuGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Sudoku</h2>
                    <p class="game-instructions">
                        Completa la cuadrícula 4x4. Cada fila y columna debe tener números del 1 al 4 sin repetir.
                    </p>
                    <div class="sudoku-board" id="sudokuBoard"></div>
                    <div class="game-controls">
                        <button id="sudokuCheck" class="game-button">Comprobar</button>
                    </div>
                </div>
            `;
            
            // Tablero 4x4 simple
            const board = [
                [1, 0, 0, 0],
                [0, 2, 0, 0],
                [0, 0, 3, 0],
                [0, 0, 0, 4]
            ];
            
            const boardElement = document.getElementById('sudokuBoard');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                board.forEach((row, rowIndex) => {
                    row.forEach((cell, colIndex) => {
                        const cellElement = document.createElement('div');
                        cellElement.className = 'sudoku-cell';
                        cellElement.textContent = cell || '';
                        boardElement.appendChild(cellElement);
                    });
                });
            }
            
            renderBoard();
        }

        // JUEGO 4: Memorama
        function loadMemoryGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Memorama</h2>
                    <p class="game-instructions">
                        Encuentra las parejas de cartas iguales.
                    </p>
                    <div class="memory-board" id="memoryBoard"></div>
                    <div class="game-controls">
                        <button id="memoryReset" class="game-button">Reiniciar</button>
                    </div>
                </div>
            `;
            
            // Inicialización simple
            const symbols = ['A', 'B', 'C', 'D', 'A', 'B', 'C', 'D'];
            const boardElement = document.getElementById('memoryBoard');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                symbols.forEach((symbol, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.textContent = '?';
                    boardElement.appendChild(card);
                });
            }
            
            renderBoard();
        }

        // JUEGO 5: Torres de Hanoi
        function loadHanoiGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Torres de Hanoi</h2>
                    <p class="game-instructions">
                        Mueve todos los discos de la torre izquierda a la derecha.
                    </p>
                    <div class="hanoi-container" id="hanoiContainer"></div>
                    <div class="game-controls">
                        <button id="hanoiReset" class="game-button">Reiniciar</button>
                    </div>
                </div>
            `;
            
            // Implementación básica
            const containerElement = document.getElementById('hanoiContainer');
            containerElement.innerHTML = `
                <div class="hanoi-tower">
                    <div class="hanoi-base"></div>
                    <div class="hanoi-pole"></div>
                </div>
                <div class="hanoi-tower">
                    <div class="hanoi-base"></div>
                    <div class="hanoi-pole"></div>
                </div>
                <div class="hanoi-tower">
                    <div class="hanoi-base"></div>
                    <div class="hanoi-pole"></div>
                </div>
            `;
        }

        // JUEGO 6: Busca Minas
        function loadMinesweeperGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Busca Minas</h2>
                    <p class="game-instructions">
                        Encuentra las minas sin activarlas.
                    </p>
                    <div class="minesweeper-board" id="minesweeperBoard"></div>
                    <div class="game-controls">
                        <button id="minesweeperNew" class="game-button">Nuevo Juego</button>
                    </div>
                </div>
            `;
            
            // Tablero simple 5x5
            const boardElement = document.getElementById('minesweeperBoard');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                for (let i = 0; i < 25; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'minesweeper-cell';
                    boardElement.appendChild(cell);
                }
            }
            
            renderBoard();
        }

        // JUEGO 7: 15 Puzzle
        function loadPuzzle15Game(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">15 Puzzle</h2>
                    <p class="game-instructions">
                        Ordena los números del 1 al 15.
                    </p>
                    <div class="puzzle15-board" id="puzzle15Board"></div>
                    <div class="game-controls">
                        <button id="puzzleShuffle" class="game-button">Mezclar</button>
                    </div>
                </div>
            `;
            
            // Tablero 4x4
            const boardElement = document.getElementById('puzzle15Board');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                for (let i = 1; i <= 15; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'puzzle15-cell';
                    cell.textContent = i;
                    boardElement.appendChild(cell);
                }
                // Celda vacía
                const emptyCell = document.createElement('div');
                emptyCell.className = 'puzzle15-cell empty';
                boardElement.appendChild(emptyCell);
            }
            
            renderBoard();
        }

        // JUEGO 8: Ahorcado
        function loadHangmanGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Ahorcado</h2>
                    <p class="game-instructions">
                        Adivina la palabra letra por letra.
                    </p>
                    <div id="hangmanWord">_ _ _ _ _</div>
                    <div id="hangmanKeyboard"></div>
                    <div class="game-controls">
                        <button id="hangmanNew" class="game-button">Nueva Palabra</button>
                    </div>
                </div>
            `;
            
            // Teclado simple
            const keyboard = document.getElementById('hangmanKeyboard');
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(letter => {
                const key = document.createElement('button');
                key.textContent = letter;
                key.className = 'game-button';
                keyboard.appendChild(key);
            });
        }

        // JUEGO 9: Conecta 4
        function loadConnect4Game(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Conecta 4</h2>
                    <p class="game-instructions">
                        Conecta cuatro fichas en línea.
                    </p>
                    <div class="connect4-board" id="connect4Board"></div>
                    <div class="game-controls">
                        <button id="connect4Reset" class="game-button">Reiniciar</button>
                    </div>
                </div>
            `;
            
            // Tablero 7x6
            const boardElement = document.getElementById('connect4Board');
            
            function renderBoard() {
                boardElement.innerHTML = '';
                for (let i = 0; i < 42; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'connect4-cell';
                    boardElement.appendChild(cell);
                }
            }
            
            renderBoard();
        }

        // JUEGO 10: Laberinto
        function loadMazeGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Laberinto</h2>
                    <p class="game-instructions">
                        Encuentra la salida del laberinto.
                    </p>
                    <div id="mazeContainer"></div>
                    <div class="game-controls">
                        <button id="mazeNew" class="game-button">Nuevo Laberinto</button>
                    </div>
                </div>
            `;
            
            // Laberinto simple
            const mazeContainer = document.getElementById('mazeContainer');
            mazeContainer.innerHTML = '<p style="color:var(--neon-green)">Usa las teclas de flecha para moverte</p>';
        }

        // JUEGO 11: Criptograma
        function loadCryptogramGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Criptograma</h2>
                    <p class="game-instructions">
                        Descifra el mensaje codificado.
                    </p>
                    <div id="cryptogramMessage">ABCD EFGH IJKL</div>
                    <div class="cryptogram-keyboard" id="cryptogramKeyboard"></div>
                </div>
            `;
            
            // Teclado para criptograma
            const keyboard = document.getElementById('cryptogramKeyboard');
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(letter => {
                const key = document.createElement('div');
                key.className = 'cryptogram-key';
                key.textContent = letter;
                keyboard.appendChild(key);
            });
        }

        // JUEGO 12: Mastermind
        function loadMastermindGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Mastermind</h2>
                    <p class="game-instructions">
                        Adivina la combinación de colores.
                    </p>
                    <div class="mastermind-board" id="mastermindBoard"></div>
                    <div id="colorPalette"></div>
                </div>
            `;
            
            // Colores disponibles
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00'];
            const palette = document.getElementById('colorPalette');
            
            colors.forEach(color => {
                const colorBtn = document.createElement('div');
                colorBtn.className = 'mastermind-peg';
                colorBtn.style.background = color;
                palette.appendChild(colorBtn);
            });
        }

        // JUEGO 13: Juego de la Vida
        function loadLifeGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Juego de la Vida</h2>
                    <p class="game-instructions">
                        Simulación del autómata celular de Conway.
                    </p>
                    <div class="life-board" id="lifeBoard"></div>
                    <div class="game-controls">
                        <button id="lifeStart" class="game-button">Iniciar</button>
                        <button id="lifePause" class="game-button">Pausar</button>
                    </div>
                </div>
            `;
            
            // Grid simple
            const board = document.getElementById('lifeBoard');
            
            function renderBoard() {
                board.innerHTML = '';
                for (let i = 0; i < 100; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'life-cell';
                    board.appendChild(cell);
                }
            }
            
            renderBoard();
        }

        // JUEGO 14: Battleship
        function loadBattleshipGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Battleship</h2>
                    <p class="game-instructions">
                        Hunde la flota enemiga.
                    </p>
                    <div class="battleship-container">
                        <div class="battleship-board" id="playerBoard"></div>
                        <div class="battleship-board" id="enemyBoard"></div>
                    </div>
                </div>
            `;
            
            // Dos tableros
            const playerBoard = document.getElementById('playerBoard');
            const enemyBoard = document.getElementById('enemyBoard');
            
            function renderBoard(boardElement) {
                boardElement.innerHTML = '';
                for (let i = 0; i < 100; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'battleship-cell';
                    boardElement.appendChild(cell);
                }
            }
            
            renderBoard(playerBoard);
            renderBoard(enemyBoard);
        }

        // JUEGO 15: Nonogramas
        function loadNonogramGame(container) {
            container.innerHTML = `
                <div class="game-container">
                    <h2 class="game-title-large">Nonogramas</h2>
                    <p class="game-instructions">
                        Resuelve el rompecabezas lógico.
                    </p>
                    <div class="nonogram-container">
                        <div class="nonogram-board" id="nonogramBoard"></div>
                    </div>
                    <div class="game-controls">
                        <button id="nonogramNew" class="game-button">Nuevo Nonograma</button>
                    </div>
                </div>
            `;
            
            // Tablero 5x5
            const board = document.getElementById('nonogramBoard');
            
            function renderBoard() {
                board.innerHTML = '';
                for (let i = 0; i < 25; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'nonogram-cell';
                    board.appendChild(cell);
                }
            }
            
            renderBoard();
        }

        // ==================== FUNCIONES GENERALES ====================
        // Volver al menú principal
        function returnToMain() {
            document.getElementById('mainPage').style.display = 'block';
            document.getElementById('gamePage').style.display = 'none';
            state.currentGame = null;
        }

        // Cambiar tema claro/oscuro
        function toggleTheme() {
            const root = document.documentElement;
            
            if (state.darkMode) {
                // Cambiar a modo claro
                root.style.setProperty('--dark-bg', '#f0f0ff');
                root.style.setProperty('--card-bg', 'rgba(255, 255, 255, 0.9)');
                root.style.setProperty('--text-primary', '#222244');
                root.style.setProperty('--text-secondary', '#444466');
                root.style.setProperty('--grid-color', 'rgba(0, 100, 255, 0.1)');
                state.darkMode = false;
            } else {
                // Volver a modo oscuro (original)
                root.style.setProperty('--dark-bg', '#0a0a1a');
                root.style.setProperty('--card-bg', 'rgba(16, 16, 32, 0.85)');
                root.style.setProperty('--text-primary', '#ffffff');
                root.style.setProperty('--text-secondary', '#ccccff');
                root.style.setProperty('--grid-color', 'rgba(0, 255, 255, 0.1)');
                state.darkMode = true;
            }
        }

        // Hacer returnToMain accesible globalmente
        window.returnToMain = returnToMain;
    </script>
</body>
</html>
